!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.seview={})}(this,function(t){"use strict";var u=function(t){return"string"==typeof t},f=function(t){return Array.isArray(t)},l=function(t){return"object"==typeof t&&!f(t)&&null!=t},h=function(t){var e=void 0;return u(t)&&0<t.length?e=t:"number"==typeof t?e=String(t):"boolean"==typeof t&&t&&(e=String(t)),e},d=function(t,e){return null==t?void 0:1===e.length?t[e[0]]:d(t[e[0]],e.slice(1))},v=function(t,e,n){return 1===e.length?l(t[e[0]])?Object.assign(t[e[0]],n):t[e[0]]=n:(null==t[[e[0]]]&&(t[[e[0]]]={}),v(t[e[0]],e.slice(1),n)),t},p=/^([a-z1-6]+)(?::([a-z]+))?/,g=/((?:#|\.|@)[\w-]+)|(\[.*?\])/g,y=/\[([\w-]+)(?:=([^\]]+))?\]/,m=function(t,e){return void 0===e&&(e=[]),t.forEach(function(t){h(t)?e.push(h(t)):f(t)&&(f(t[0])?m(t,e):0<t.length&&e.push(r(t)))}),e},r=function(t){var e=t[2],n=3,r=u(t[0])?function(t){var i={},e=t.match(p);e||(e=["div","div"]),i.tag=e[1],e[2]&&(i.attrs={type:e[2]});var n=t.match(g);if(n){var a=[];n.forEach(function(t){var e=t[0],n=t.slice(1);if("#"===e)v(i,["attrs","id"],n);else if("."===e)a.push(n);else if("["===e){var r=t.match(y);v(i,["attrs",r[1]],r[2]||!0)}}),0<a.length&&v(i,["attrs","className"],a.join(" "))}return i}(t[0]):{tag:t[0]};if(l(t[1])){var i=t[1];if(void 0!==i.className){var a=i.className;delete i.className;var s=[];if(u(a)?s=a.split(" "):l(a)&&Object.keys(a).forEach(function(t){a[t]&&s.push(t)}),0<s.length){var c=d(r,["attrs","className"]),o=s.join(" ");v(r,["attrs","className"],(c?c+" ":"")+o)}}0<Object.keys(i).length&&(void 0===r.attrs?r.attrs=i:r.attrs=Object.assign(r.attrs,i))}else e=t[1],n=2;return t.length>n?r.children=m(t.slice(n-1)):(h(e)&&(r.children=[h(e)]),f(e)&&(r.children=m(f(e[0])?e:[e]))),r},i=function(e,t){if(f(t.children)){var n=[];t.children.forEach(function(t){n.push(u(t)?e(t):i(e,t))}),t.children=n}return e(t)};t.sv=function(n){return function(t){var e=r(t);return i(n,e)}},Object.defineProperty(t,"__esModule",{value:!0})});
