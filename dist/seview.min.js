!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).seview={})}(this,function(t){"use strict";function f(t){return"string"==typeof t}function l(t){return Array.isArray(t)}function h(t){return null!=t&&"function"==typeof t[Symbol.iterator]&&!f(t)}function d(t){return null!=t&&"object"==typeof t&&!l(t)&&!h(t)}function v(t){var e=void 0;return f(t)&&0<t.length?e=t:!function(t){return"number"==typeof t}(t)?function(t){return"boolean"==typeof t}(t)&&t&&(e=String(t)):e=String(t),e}var p=function(t,e){return null==t?void 0:1===e.length?t[e[0]]:p(t[e[0]],e.slice(1))},m=function(t,e,n){return 1===e.length?d(t[e[0]])?Object.assign(t[e[0]],n):t[e[0]]=n:(null==t[[e[0]]]&&(t[[e[0]]]={}),m(t[e[0]],e.slice(1),n)),t},y=/^([A-Za-z0-9-]+)(?::([a-z]+))?/,g=/((?:#|\.|@)[\w-]+)|(\[.*?\])/g,b=/\[([\w-]+)(?:=([^\]]+))?\]/,j=function(t,e){return void 0===e&&(e=[]),t.forEach(function(t){h(t)&&(t=Array.from(t)),v(t)?e.push(v(t)):l(t)&&(l(t[0])||h(t[0])?j(t,e):0<t.length&&e.push(i(t)))}),e},i=function(t,e){void 0===e&&(e={className:"className"});var n=t[2],r=3,i=f(t[0])?function(t,e){void 0===e&&(e="className");var i={},n=t.match(y);n=n||["div","div"],i.tag=n[1],n[2]&&(i.attrs={type:n[2]});var r=t.match(g);if(r){var a=[];r.forEach(function(t){var e=t[0],n=t.slice(1);if("#"===e)m(i,["attrs","id"],n);else if("."===e)a.push(n);else if("["===e){var r=t.match(b);m(i,["attrs",r[1]],r[2]||!0)}}),0<a.length&&m(i,["attrs",e],a.join(" "))}return i}(t[0],e.className):{tag:t[0]};if(d(t[1])){var a=t[1];if(void 0!==a[e.className]){var s=a[e.className];delete a[e.className];var c=[];if(f(s)?c=s.split(" "):d(s)&&Object.keys(s).forEach(function(t){s[t]&&c.push(t)}),0<c.length){var o=p(i,["attrs",e.className]),u=c.join(" ");m(i,["attrs",e.className],(o?o+" ":"")+u)}}0<Object.keys(a).length&&(void 0===i.attrs?i.attrs=a:i.attrs=Object.assign(i.attrs,a))}else n=t[1],r=2;return t.length>r?i.children=j(t.slice(r-1)):(v(n)&&(i.children=[v(n)]),h(n)&&(n=Array.from(n)),l(n)&&(i.children=j(l(n[0])?n:[n]))),i},a=function(e,t){if(l(t.children)||h(t.children)){var n=[];t.children.forEach(function(t){n.push(f(t)?e(t):a(e,t))}),t.children=n}return e(t)};t.sv=function(n,r){return function(t){var e=i(t,r);return a(n,e)}},Object.defineProperty(t,"__esModule",{value:!0})});
