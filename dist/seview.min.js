!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).seview={})}(this,(function(t){"use strict";var e=function(t){return"string"==typeof t},n=function(t){return Array.isArray(t)},r=function(t){return null!=t&&"function"==typeof t[Symbol.iterator]&&!e(t)},i=function(t){return null!=t&&"object"==typeof t&&!n(t)&&!r(t)},a=function(t){var n=void 0;return e(t)&&t.length>0?n=t:("number"==typeof t||function(t){return"boolean"==typeof t}(t)&&t)&&(n=String(t)),n},s=function(t,e){return null==t?void 0:1===e.length?t[e[0]]:s(t[e[0]],e.slice(1))},o=function(t,e,n){return 1===e.length?i(t[e[0]])?Object.assign(t[e[0]],n):t[e[0]]=n:(null==t[[e[0]]]&&(t[[e[0]]]={}),o(t[e[0]],e.slice(1),n)),t},c=/^([A-Za-z0-9-]+)(?::([a-z]+))?/,f=/((?:#|\.|@)[\w-]+)|(\[.*?\])/g,u=/\[([\w-]+)(?:=([^\]]+))?\]/,l=function(t,e){return void 0===e&&(e=[]),t.forEach((function(t){r(t)&&(t=Array.from(t)),a(t)?e.push(a(t)):n(t)&&(n(t[0])||r(t[0])?l(t,e):t.length>0&&e.push(h(t)))})),e},h=function(t,h){void 0===h&&(h={className:"className"});var d=t[2],v=3,p=e(t[0])?function(t,e){void 0===e&&(e="className");var n={},r=t.match(c);r||(r=["div","div"]),n.tag=r[1],r[2]&&(n.attrs={type:r[2]});var i=t.match(f);if(i){var a=[];i.forEach((function(t){var e=t[0],r=t.slice(1);if("#"===e)o(n,["attrs","id"],r);else if("."===e)a.push(r);else if("["===e){var i=t.match(u);o(n,["attrs",i[1]],i[2]||!0)}})),a.length>0&&o(n,["attrs",e],a.join(" "))}return n}(t[0],h.className):{tag:t[0]};if(i(t[1])){var m=t[1];if(void 0!==m[h.className]){var y=m[h.className];delete m[h.className];var g=[];if(e(y)?g=y.split(" "):i(y)&&Object.keys(y).forEach((function(t){y[t]&&g.push(t)})),g.length>0){var b=s(p,["attrs",h.className]),j=g.join(" ");o(p,["attrs",h.className],(b?b+" ":"")+j)}}Object.keys(m).length>0&&(void 0===p.attrs?p.attrs=m:p.attrs=Object.assign(p.attrs,m))}else d=t[1],v=2;return t.length>v?p.children=l(t.slice(v-1)):(a(d)&&(p.children=[a(d)]),r(d)&&(d=Array.from(d)),n(d)&&(p.children=l(n(d[0])?d:[d]))),p},d=function(t,i){if(n(i.children)||r(i.children)){var a=[];i.children.forEach((function(n){a.push(e(n)?t(n):d(t,n))})),i.children=a}return t(i)};t.sv=function(t,e){return function(n){var r=h(n,e);return d(t,r)}},Object.defineProperty(t,"__esModule",{value:!0})}));
