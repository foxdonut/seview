!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.seview={})}(this,function(t){"use strict";var f=function(t){return"string"==typeof t},l=function(t){return Array.isArray(t)},h=function(t){return"object"==typeof t&&!l(t)&&null!=t},d=function(t){var e=void 0;return f(t)&&0<t.length?e=t:"number"==typeof t?e=String(t):"boolean"==typeof t&&t&&(e=String(t)),e},v=function(t,e){return null==t?void 0:1===e.length?t[e[0]]:v(t[e[0]],e.slice(1))},p=function(t,e,n){return 1===e.length?h(t[e[0]])?Object.assign(t[e[0]],n):t[e[0]]=n:(null==t[[e[0]]]&&(t[[e[0]]]={}),p(t[e[0]],e.slice(1),n)),t},g=/^([a-z1-6]+)(?::([a-z]+))?/,m=/((?:#|\.|@)[\w-]+)|(\[.*?\])/g,y=/\[([\w-]+)(?:=([^\]]+))?\]/,b=function(t,e){return void 0===e&&(e=[]),t.forEach(function(t){d(t)?e.push(d(t)):l(t)&&(l(t[0])?b(t,e):0<t.length&&e.push(i(t)))}),e},i=function(t,e){void 0===e&&(e={className:"className"});var n=t[2],r=3,i=f(t[0])?function(t,e){void 0===e&&(e="className");var i={},n=t.match(g);n||(n=["div","div"]),i.tag=n[1],n[2]&&(i.attrs={type:n[2]});var r=t.match(m);if(r){var a=[];r.forEach(function(t){var e=t[0],n=t.slice(1);if("#"===e)p(i,["attrs","id"],n);else if("."===e)a.push(n);else if("["===e){var r=t.match(y);p(i,["attrs",r[1]],r[2]||!0)}}),0<a.length&&p(i,["attrs",e],a.join(" "))}return i}(t[0],e.className):{tag:t[0]};if(h(t[1])){var a=t[1];if(void 0!==a[e.className]){var s=a[e.className];delete a[e.className];var c=[];if(f(s)?c=s.split(" "):h(s)&&Object.keys(s).forEach(function(t){s[t]&&c.push(t)}),0<c.length){var o=v(i,["attrs",e.className]),u=c.join(" ");p(i,["attrs",e.className],(o?o+" ":"")+u)}}0<Object.keys(a).length&&(void 0===i.attrs?i.attrs=a:i.attrs=Object.assign(i.attrs,a))}else n=t[1],r=2;return t.length>r?i.children=b(t.slice(r-1)):(d(n)&&(i.children=[d(n)]),l(n)&&(i.children=b(l(n[0])?n:[n]))),i},a=function(e,t){if(l(t.children)){var n=[];t.children.forEach(function(t){n.push(f(t)?e(t):a(e,t))}),t.children=n}return e(t)};t.sv=function(n,r){return function(t){var e=i(t,r);return a(n,e)}},Object.defineProperty(t,"__esModule",{value:!0})});
